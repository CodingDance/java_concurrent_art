#第四章 Java并发编程基础

##一、线程简介

使用多线程的原因：

    1.更多的处理器核心：一个线程在一个时刻只能运行在一个处理器核心上
    2.更快的响应时间
    3.更好的编程模型
    
线程优先级：

操作系统基本采用时分的形式调度运行的线程，操作系统会分出一个个时间片，线程会分配到若干时间片，
当线程的时间片用完了就会发生线程调度，并等待着下次分配，线程分配到的时间片多少就决定了线程使用
处理器资源的多少。

线程的状态：6种，在给定的时刻只能处于一种状态

    NEW：初始状态，线程被构建，但还没有调用start方法
    RUNNABLE：运行状态，java线程将就绪和运行两种状态统称为运行状态
    BLOCKED：阻塞状态，表明线程阻塞于锁
    WAITING：等待状态，等待其他线程的通知或中断
    TIME_WAITING：超时等待状态，可以在指定的时间自行返回
    TERMINATED：终止状态，表示当前线程已经执行完毕
    
Daemon线程（守护线程）

当一个java虚拟机中不存在非守护线程时，虚拟机将会退出。

ps. 在构建Daemon线程时，不能依靠finally块中的内容来确保执行关闭或清理资源的逻辑

##二、启动和终止线程

一个新构造的线程对象是由其父线程来进行空间分配的，而子线程的各种属性继承自父线程，同时还会分配一个唯一的ID。

启动线程：start方法：当前线程同步告知虚拟机：只要线程规划器空闲，应立即启动调用start方法的线程

中断：

可以理解为线程的一个标识符属性，它标识一个运行中的线程是否被其他线程进行了中断操作。
线程通过isInterrupted（）方法判断是否被中断，也可以调用静态方法Thread.interrupted()
对当前的线程中断标识位进行复位。

    从java的API可以看出，许多声明抛出InterruptedException的方法在抛出这个异常前，java虚拟机会
    先将该线程的中断标志位清除，然后再抛异常。此时调用isInterrupted返回false
    
##三、线程间通信（重点）

